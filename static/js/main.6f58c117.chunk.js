(this["webpackJsonpweather-widget"]=this["webpackJsonpweather-widget"]||[]).push([[0],{121:function(t,e,c){},122:function(t,e,c){},123:function(t,e,c){},238:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c(1),r=c.n(a),i=c(101),s=c(41),o=c.n(s),u=c(10),l=c(43),j=c(4),b=c(108),d=c(15),h=c.n(d),O=c(31),f=function(){var t=Object(O.a)(h.a.mark((function t(e,c){var n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://api.openweathermap.org/data/2.5/").concat(e).concat("&appid=50fb0af36e080f721ce75485613869d9").concat(c));case 2:if((n=t.sent).ok){t.next=5;break}throw new Error("Could not fetch ".concat(e)+", received ".concat(n.status));case 5:return t.next=7,n.json();case 7:return t.abrupt("return",t.sent);case 8:case"end":return t.stop()}}),t)})));return function(e,c){return t.apply(this,arguments)}}(),m=function(t){return{main:{name:t.name,id:t.id,weather:t.main},city:t}},p=function(){var t=Object(O.a)(h.a.mark((function t(e){var c,n,a=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:"metric",t.next=3,f("weather?q=".concat(e),"&units=".concat(c));case 3:return n=t.sent,t.abrupt("return",m(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=function(){var t=Object(O.a)(h.a.mark((function t(e){var c,n,a=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=a.length>1&&void 0!==a[1]?a[1]:"metric",t.next=3,f("weather?id=".concat(e),"&units=".concat(c));case 3:return n=t.sent,t.abrupt("return",m(n));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){var t=Object(O.a)(h.a.mark((function t(e){var c,n=arguments;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=n.length>1&&void 0!==n[1]?n[1]:"metric",t.next=3,f("onecall?".concat(e),"&units=".concat(c));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=(c(121),function(){var t=Object(u.b)(),e=Object(j.f)(),c=Object(a.useState)(""),r=Object(b.a)(c,2),i=r[0],s=r[1],o=function(c,n){c.preventDefault(),t(function(t){return function(e){e({type:"SET_NEW_CITY_PENDING"}),p(t).then((function(t){e({type:"SET_NEW_CITY_DONE",city:t})})).catch((function(t){e({type:"SET_NEW_CITY_ERROR",error:t})}))}}(n)),s(""),e.push("/weather-widget")};return Object(n.jsx)("div",{className:"album py-1 bg-light",children:Object(n.jsx)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("p",{className:"brand",onClick:function(){e.push("/weather-widget")},children:"Open Weather"}),Object(n.jsxs)("form",{className:"d-flex",children:[Object(n.jsx)("input",{className:"form-control me-2",value:i,type:"search",placeholder:"Type your city","aria-label":"Search",onChange:function(t){return function(t,e){e(t.currentTarget.value)}(t,s)}}),Object(n.jsx)("button",{className:"btn btn-outline-primary",type:"submit",onClick:function(t){return o(t,i)},children:"Search"})]})]})})})}),y=(c(122),function(t){var e,c,a=t.state,r=(a=a[1]?a[1]:a[0]).icon;return Object(n.jsx)("div",{children:Object(n.jsx)("img",{className:"icon",src:(e=r,c=4,"".concat("http://openweathermap.org/img/wn/").concat(e,"@").concat(c,"x.png")),alt:"icon"})})}),_=function(t){var e=t.data,c=e.name,r=e.weather,i=e.id,s=e.coord,o=s.lon,l=s.lat,b="lat=".concat(l,"&lon=").concat(o),d=t.data.main,h=Object(u.b)(),O=Object(j.f)(),f=Object(a.useCallback)((function(){h(function(t){return function(e){e({type:"SET_NEW_CITY_PENDING"}),x(t).then((function(t){e({type:"SET_NEW_CITY_DONE",city:t}),e({type:"UPD_ONE_CITY_DONE_WITH_DATA_DONE",city:t})})).catch((function(t){e({type:"SET_NEW_CITY_ERROR",error:t})}))}}(i))}),[i,h]),m=Object(a.useCallback)((function(){h(function(t){return{type:"DELETE_ONE_CITY",id:t}}(i))}),[i]),p=Object(a.useCallback)((function(){h(function(t){return function(e){e({type:"SET_NEW_CITY_PENDING"}),N(t).then((function(t){var c=t.hourly;e({type:"GET_ONE_CALL_CITY",hourly:c})})).catch((function(t){e({type:"SET_NEW_CITY_ERROR",error:t})}))}}(b)),O.push("/city/".concat(i))}),[i,b]),v=function(){return Object(n.jsxs)("div",{className:"card-body",children:[Object(n.jsx)("p",{className:"card-text fl",children:"Feels like: ".concat(Math.floor(d.feels_like),"\xb0C")}),Object(n.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[Object(n.jsxs)("ul",{className:"navbar-nav me-auto mb-2 mb-lg-0",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("i",{className:"fa fa-dot-circle-o","aria-hidden":"true",children:" ".concat(Math.floor(d.pressure),"hPa")})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("i",{className:"fa fa-tint","aria-hidden":"true",children:" ".concat(Math.floor(d.humidity),"%")})})]}),Object(n.jsxs)("div",{className:"btn-group",children:[Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-primary",onClick:p,children:Object(n.jsx)("i",{className:"fa fa-info","aria-hidden":"true"})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:f,children:Object(n.jsx)("i",{className:"fa fa-refresh","aria-hidden":"true"})}),Object(n.jsx)("button",{type:"button",className:"btn btn-sm btn-outline-danger ",onClick:m,children:Object(n.jsx)("i",{className:"fa fa-trash-o","aria-hidden":"true"})})]})]})]})};return Object(n.jsx)("div",{className:"col-md-3",children:Object(n.jsxs)("div",{className:"card mb-3 shadow-sm",children:[Object(n.jsx)("p",{className:"cityName",children:c}),Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(y,{state:r}),Object(n.jsx)("p",{className:"navbar-text",children:"".concat(parseInt(d.temp),"\xb0C")})]}),Object(n.jsx)(v,{})]})})},E=function(){var t=Object(u.c)((function(t){return t.cities}));return Object(n.jsx)("div",{className:"album py-5 bg-light",children:Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"row",children:t.map((function(t){return Object(n.jsx)(_,{data:t},t.id)}))})})})},g=(c(123),c(124),c(32)),T=function(){var t=Object(u.c)((function(t){return t.cities})),e=Object(j.g)().id,c=t.find((function(t){return t.id===parseInt(e)}));console.log(c);for(var a=Object(u.c)((function(t){return t.hourly})),r=c.name,i=c.main,s=c.weather,o=[],l=1;l<=12;l++)o.push({x:l+1,y:a[l].temp});return Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"col-md-8 fullInfo",children:Object(n.jsxs)("div",{className:"card shadow-sm",children:[Object(n.jsx)("p",{className:"cityName",children:r}),Object(n.jsxs)("div",{className:"navbar",children:[Object(n.jsx)(y,{state:s}),Object(n.jsx)("p",{className:"navbar-text temperature",children:"".concat(parseInt(i.temp),"\xb0C")})]}),Object(n.jsx)("div",{className:"navbar",children:Object(n.jsx)("p",{className:"navbar-text",children:"...additional content..."})}),Object(n.jsx)("div",{className:"navbar",children:Object(n.jsxs)(g.a,{width:600,height:300,children:[Object(n.jsx)(g.c,{}),Object(n.jsx)(g.b,{className:"heatmap-series",opacity:"0.6",color:"red",data:o}),Object(n.jsx)(g.d,{title:"hrs"})]})})]})})})},w=function(){return Object(n.jsx)(l.a,{children:Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(v,{}),Object(n.jsxs)(j.c,{children:[Object(n.jsx)(j.a,{path:"/weather-widget",component:E,exact:!0}),Object(n.jsx)(j.a,{path:"/city/:id",component:T,exact:!0}),Object(n.jsx)(j.a,{render:function(){return Object(n.jsx)("h2",{children:"Page not found"})}})]})]})})},C=c(14),I=c(69),k=c(104),D=c.n(k),Y=c(70),S=c(105),W=c(5),R=c(106),L=c.n(R),P={isLoading:!1,error:!1,cities:[],city:{},data:{},hourly:[]},A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_NEW_CITY_PENDING":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!0});case"SET_NEW_CITY_ERROR":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!1,error:e.error});case"SET_NEW_CITY_DONE":return Object(W.a)(Object(W.a)({},t),{},{isLoading:!1,data:Object(W.a)(Object(W.a)({},t.data),{},Object(S.a)({},e.city.main.id,e.city.main)),error:"",cities:[].concat(Object(Y.a)(t.cities.filter((function(t){return t.id!==e.city.city.id}))),[e.city.city])});case"UPD_ONE_CITY_DONE_WITH_DATA_DONE":var c=e.city.main.id,n=e.city,a=Object.entries(t.data);return a.map((function(t){return parseInt(t[0])===c&&(t[1]=n.main),t})),a=Object.fromEntries(a),Object(W.a)(Object(W.a)({},t),{},{data:a,error:"",cities:[].concat(Object(Y.a)(t.cities.filter((function(t){return t.id!==e.city.city.id}))),[e.city.city])});case"DELETE_ONE_CITY":return Object(W.a)(Object(W.a)({},t),{},{data:L()(t.data,e.id),cities:t.cities.filter((function(t){return t.id!==e.id}))});case"GET_ONE_CALL_CITY":return Object(W.a)(Object(W.a)({},t),{},{hourly:e.hourly});default:return Object(W.a)({},t)}},G=c(107),M={key:"root",storage:D.a,blacklist:["data"]},H=Object(I.a)(M,A),J=Object(C.d)(H,Object(C.a)(G.a)),U=Object(I.b)(J);o.a.render(Object(n.jsxs)(r.a.StrictMode,{children:[Object(n.jsx)(u.a,{store:J,children:Object(n.jsx)(i.a,{loading:null,persistor:U,children:Object(n.jsx)(w,{})})}),","]}),document.getElementById("root"))}},[[238,1,2]]]);
//# sourceMappingURL=main.6f58c117.chunk.js.map